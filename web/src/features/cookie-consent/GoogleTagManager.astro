---
import { GOOGLE_TAG_MANAGER_ID, ENV } from "astro:env/client"



import { ConfigCookieConsent } from "./CookieConsent";

if (ENV === "development" || ENV === "test") return;

---
<noscript>
    <iframe
        src={`https://www.googletagmanager.com/ns.html?id=${GOOGLE_TAG_MANAGER_ID}`}
        height="0"
        width="0"
        style={{ display: "none", visibility: "hidden" }}
    ></iframe>
</noscript>

<script is:inline type="module" define:vars={{ ConfigCookieConsent }}>
    import '/modules/cookie-consent.js';

    CookieConsent.run({
        ...ConfigCookieConsent,
    });

</script>
