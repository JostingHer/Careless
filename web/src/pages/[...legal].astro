---
import { getCollection } from "astro:content";
import { getSlugWithLang } from "@global-shared/translations/utils/getSlugWithLang";
import Legal from "@/landings/legal/Legal.astro";
import type { Data } from "@/common/astro";
import type { LegalEntry } from "@/landings/legal/infrastructure/sanity-legal-collection";


export async function getStaticPaths() {
	const landingsList = await getCollection("legal") as Data<LegalEntry>[];

	return landingsList.map((landing) => {
		return {
			params: {
				legal: `${getSlugWithLang(landing.data.slug, landing.data.language)}`,
			},
			props: {
				data: landing.data,
			},
		};
	});
}

const { data } = Astro.props;

---

<Legal _id={data._id} />
