---
import type { SectionBase } from "@/common/types";
import { getHtmlSimpleCopy } from "@/common/utils/get-html-render";
import HeroVideo from "./HeroVideo/HeroVideo.astro";
import HeroPhoto from "./HeroPhoto/HeroPhoto.astro";
import HeroBasic from "./HeroBasic/HeroBasic.astro";

type Props = SectionBase;

const { theme, mediaList, copy } = Astro.props as Props;

const info = getHtmlSimpleCopy(copy, "h1");

const bgVideo = mediaList?.filter((media) => media._type === "video")[0];
const bgPhoto = mediaList?.filter((media) => media._type === "photo")[0];
---

{
  bgVideo ? (
    <HeroVideo {...Astro.props} />
  ) : bgPhoto ? (
    <HeroPhoto {...Astro.props} />
  ) : (
    <HeroBasic {...Astro.props} />
  )
}
