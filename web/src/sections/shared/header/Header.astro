---
import Nav from "./Nav/Nav.astro";
import Sidebar from "./Sidebar/Sidebar.astro";
import {
  logo_html,
  logo_light_html,
} from "@/assets/icons/html/company-elements";
import type { SharedContext } from "@/common/astro";
import type { LANGUAGE } from "@global-shared/translations/domain/languages";
import { DEFAULT_LANGUAGE } from "@global-shared/translations/domain/languages";

type Props = SharedContext;

const { language = DEFAULT_LANGUAGE, collection, ref, id } = Astro.props;
---

<header class="o-header">
  <div class="c-header">
    <a href="/" class="header__logo" set:html={logo_light_html} />
    <Nav {...Astro.props} />
    <Sidebar {...Astro.props} />
  </div>
</header>

<script>
  function setHeightMenu() {
    const headerElement = document.querySelector(".o-header") as HTMLElement;
    if (headerElement) {
      const headerHeight = headerElement.offsetHeight;
      document.documentElement.style.setProperty(
        "--header-height",
        `${headerHeight}px`
      );
    }
  }
  setHeightMenu();
  window.addEventListener("resize", setHeightMenu);
</script>
